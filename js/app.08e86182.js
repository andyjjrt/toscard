(function(t){function e(e){for(var a,n,i=e[0],l=e[1],c=e[2],u=0,m=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&m.push(s[n][0]),s[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],a=!0,i=1;i<r.length;i++){var l=r[i];0!==s[l]&&(a=!1)}a&&(o.splice(e--,1),t=n(n.s=r[0]))}return t}var a={},s={app:0},o=[];function n(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=a,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/toscard/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var d=l;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("nav",{staticClass:"navbar navbar-expand-md navbar-light bg-light fixed-top border"},[r("div",{staticClass:"container-fluid position-relative"},[r("a",{staticClass:"navbar-brand d-none d-md-block"},[t._v("抽卡模擬器")]),t._m(0),t._m(1),r("div",{ref:"navbar",staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[r("ul",{staticClass:"navbar-nav"},[r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link",class:{active:"Home"==t.page},attrs:{role:"button"},on:{click:function(e){t.page="Home",t.collapse.hide()}}},[t._v("抽卡")])]),r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link",class:{active:"Static"==t.page},attrs:{role:"button"},on:{click:function(e){t.page="Static",t.collapse.hide()}}},[t._v("統計")])]),r("li",{staticClass:"nav-item dropdown"},[r("a",{ref:"select_times",staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[t._v(" "+t._s(t.$store.state.times)+"抽 ")]),r("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdownMenuLink"}},[r("li",[r("a",{staticClass:"dropdown-item",attrs:{role:"button"},on:{click:function(e){t.$store.commit("set_times",1),t.collapse.hide()}}},[t._v("1抽")])]),r("li",[r("a",{staticClass:"dropdown-item",attrs:{role:"button"},on:{click:function(e){t.$store.commit("set_times",10),t.collapse.hide()}}},[t._v("10抽")])]),t.$store.state.version?r("li",[r("a",{staticClass:"dropdown-item",attrs:{role:"button"},on:{click:function(e){t.$store.commit("set_times",t.$store.state.version.a_round),t.collapse.hide()}}},[t._v(t._s(t.$store.state.version.a_round)+"抽(一輪保底)")])]):t._e()])]),r("li",{staticClass:"nav-item dropdown"},[r("a",{ref:"select_mode",staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[t._v(" "+t._s("normal"==t.$store.state.mode?"正常":"加倍")+" ")]),r("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdownMenuLink"}},[r("li",[r("a",{staticClass:"dropdown-item",attrs:{role:"button"},on:{click:function(e){t.$store.commit("set_mode","normal"),t.collapse.hide()}}},[t._v("正常")])]),r("li",[r("a",{staticClass:"dropdown-item",attrs:{role:"button"},on:{click:function(e){t.$store.commit("set_mode","up"),t.collapse.hide()}}},[t._v("加倍")])])])]),t.$store.state.version_list?r("li",{staticClass:"nav-item dropdown"},[r("a",{ref:"select_mode",staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdownMenuLink",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[t._v(" "+t._s(t.$store.state.version.name)+" "+t._s(t.$store.state.version.detail)+" ")]),r("ul",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdownMenuLink"}},[t._l(t.$store.state.version_list.version,(function(e){return r("li",{key:e.name},[r("a",{staticClass:"dropdown-item",attrs:{role:"button"},on:{click:function(r){t.change_version(e),t.collapse.hide()}}},[t._v(t._s(e.name)+" "+t._s(e.detail))])])})),t._m(2),t._m(3)],2)]):t._e(),r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link",class:{active:"About"==t.page},attrs:{role:"button"},on:{click:function(e){t.page="About",t.collapse.hide()}}},[r("svg",{staticClass:"bi bi-info-circle",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"}},[r("path",{attrs:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}}),r("path",{attrs:{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}})])])])])]),r("div",{staticClass:"position-absolute top-0 end-0 py-1 px-3 d-flex"},[r("button",{staticClass:"bg-light border rounded fs-5",attrs:{"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"重設此輪"},on:{click:function(e){return t.$store.commit("reset_draw")}}},[r("span",{staticClass:"px-2"},[t._v(t._s(t.$store.state.draw_count))])]),t._v("   "),r("button",{staticClass:"bg-light border rounded fs-5",attrs:{"data-bs-toggle":"tooltip","data-bs-placement":"bottom",title:"全部重置"},on:{click:function(e){t.$store.commit("reset_all_draw"),t.$store.commit("get_card")}}},[r("span",{staticClass:"px-2"},[t._v(t._s(t.$store.state.total_count))])])])])]),r("br"),r("br"),r("br"),r("br"),r("div",{staticClass:"container"},[r("transition",{attrs:{name:"fade",mode:"out-in"}},["Home"==t.page?r("div",{key:"Home"},[r("Home")],1):t._e(),"Static"==t.page?r("div",{key:"Static"},[r("Static")],1):t._e(),"About"==t.page?r("div",{key:"Setting"},[r("About")],1):t._e()])],1),r("br"),r("br")])},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[r("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"position-absolute top-0 start-50 translate-middle-x d-block d-md-none py-1"},[r("a",{staticClass:"navbar-brand"},[t._v("抽卡模擬器")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("hr",{staticClass:"dropdown-divider"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",[r("h6",{staticClass:"dropdown-header"},[t._v("歡迎製作其他卡匣")])])}],n=(r("159b"),r("a630"),r("3ca3"),r("b0c0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"d-grid gap-2 col-9 mx-auto"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.draw}},[t._v("抽卡")])]),r("br"),r("div",{staticClass:"card card-body"},[t._m(0),r("div",{staticClass:"d-grid gap-2 col-12 col-md-9 col-lg-6 mx-auto"},[r("div",{staticClass:"row row-cols-5 g-1"},t._l(t.this_roll,(function(e){return r("div",{key:e.index,staticClass:"col"},[3==t.card[e.id].role?r("img",{staticClass:"img-fluid border border-5 rounded border-white",attrs:{src:t.img_url(e.id),onerror:"this.error=null; this.src='./data/error_img.png'"}}):t._e(),2==t.card[e.id].role?r("img",{staticClass:"img-fluid border border-5 rounded border-warning",attrs:{src:t.img_url(e.id),onerror:"this.error=null; this.src='./data/error_img.png'"}}):t._e(),1==t.card[e.id].role?r("img",{staticClass:"img-fluid border border-5 rounded border-danger",attrs:{src:t.img_url(e.id),onerror:"this.error=null; this.src='./data/error_img.png'"}}):t._e()])})),0)])])])}),i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row mb-3"},[r("div",{staticClass:"fs-4"},[t._v("抽卡結果")])])}],l={name:"Home",data:function(){return{this_roll:new Array}},computed:{card:function(){return this.$store.state.card_detail}},methods:{draw:function(){this.this_roll=new Array;for(var t=0;t<this.$store.state.times;t++){var e=Math.random(),r=void 0;if(this.$store.state.draw_count==this.$store.state.version.a_round-1){for(r in this.card)if(1==this.card[r].role)break}else for(r in this.card)if(e-=this.card[r].probability[this.$store.state.mode],e<=0)break;this.$store.commit("add_draw",r),this.this_roll.push({id:r,index:t})}},img_url:function(t){return this.card[t].src?this.card[t].src:"https://web-assets.tosconfig.com/gallery/icons/"+t+".jpg"}},watch:{card:function(){this.this_roll=new Array}}},c=l,d=r("2877"),u=Object(d["a"])(c,n,i,!1,null,null,null),m=u.exports,p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"list-group d-grid col-md-9 mx-auto"},t._l(t.card,(function(e){return r("div",{key:e.id,staticClass:"list-group-item"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-3 col-sm-2 col-xl-1"},[3==e.role?r("img",{staticClass:"img-fluid border border-5 rounded border-white",attrs:{src:t.img_url(e),onerror:"this.error=null; this.src='./data/error_img.png'"}}):t._e(),2==e.role?r("img",{staticClass:"img-fluid border border-5 rounded border-warning",attrs:{src:t.img_url(e),onerror:"this.error=null; this.src='./data/error_img.png'"}}):t._e(),1==e.role?r("img",{staticClass:"img-fluid border border-5 rounded border-danger",attrs:{src:t.img_url(e),onerror:"this.error=null; this.src='./data/error_img.png'"}}):t._e()]),r("div",{staticClass:"col-9 col-sm-10 col-xl-11 position-relative"},[r("span",[t._v(t._s(e.ZH_name))]),r("div",{staticClass:"position-absolute bottom-0 end-0 px-1"},[r("span",{staticClass:"badge bg-primary fs-6"},[t._v(t._s(e.times))])])])])])})),0)},v=[],_={name:"Static",computed:{card:function(){return this.$store.state.card_detail}},methods:{img_url:function(t){return t.src?t.src:"https://web-assets.tosconfig.com/gallery/icons/"+t.id+".jpg"}}},f=_,b=Object(d["a"])(f,p,v,!1,null,null,null),g=b.exports,h=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},w=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h4",[t._v("抽卡模擬器V2.0")]),r("small",[t._v("By andyjjrt")]),r("hr"),r("p",[t._v("A simple card draw page for TOS, based on bootstrap5 and Vuejs.")]),r("p",[t._v("Toturial: "),r("a",{attrs:{href:"https://forum.gamer.com.tw/Co.php?bsn=23805&sn=3760124"}},[t._v("https://forum.gamer.com.tw/Co.php?bsn=23805&sn=3760124")])])])}],C={},$=C,y=Object(d["a"])($,h,w,!1,null,null,null),k=y.exports,x=r("8147"),j=r.n(x),O=r("810f"),S=r.n(O),A=r("af2e"),M=r.n(A),E={name:"App",data:function(){return{page:"Home",collapse:null}},components:{Home:m,Static:g,About:k},created:function(){this.$store.commit("init_version")},mounted:function(){this.collapse=new S.a(this.$refs.navbar,{toggle:!1}),new j.a(this.$refs.select_times),new j.a(this.$refs.select_mode),Array.from(document.querySelectorAll('button[data-bs-toggle="tooltip"]')).forEach((function(t){return new M.a(t)}))},computed:{versions:function(){return this.$store.state.version_list},version:function(){return this.$store.state.version}},methods:{change_version:function(t){this.$store.commit("reset_all_draw"),this.$store.commit("select_version",t)}},watch:{version:function(){this.$store.commit("get_card"),document.title="抽卡模擬器 | "+this.version.name+"-"+this.version.detail}}},H=E,L=(r("034f"),Object(d["a"])(H,s,o,!1,null,null,null)),P=L.exports,D=r("2f62"),T=r("bc3a"),z=r.n(T);a["a"].use(D["a"]);var N=new D["a"].Store({state:{version_list:null,version:null,draw_count:0,total_count:0,card_detail:null,mode:"normal",times:10},mutations:{init_version:function(t){z.a.get("./data/version.json").then((function(e){t.version_list=e.data,t.version=e.data.version[e.data.latest]}))},select_version:function(t,e){t.version=e},get_card:function(t){z.a.get("./data/"+t.version.name+".json").then((function(e){for(var r in e.data)e.data[r].times=0;t.card_detail=e.data}))},reset_all_draw:function(t){t.draw_count=0,t.total_count=0,t.times=10},reset_draw:function(t){t.draw_count=0},add_draw:function(t,e){t.draw_count+=1,t.draw_count%=t.version.a_round,t.total_count+=1,t.card_detail[e].times++},set_times:function(t,e){t.times=e},set_mode:function(t,e){t.mode=e}}}),B=N;r("70ef");a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(P)},store:B}).$mount("#app")},"70ef":function(t,e,r){},"85ec":function(t,e,r){}});
//# sourceMappingURL=app.08e86182.js.map